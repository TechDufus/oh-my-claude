---
import '@/styles/globals.css'
import TerminalHero from '@/components/TerminalHero'
import InstallBlock from '@/components/InstallBlock'
import GitHubStars from '@/components/GitHubStars'
import AgentGrid from '@/components/AgentGrid.astro'
import Features from '@/components/Features.astro'
import StatsBar from '@/components/StatsBar.astro'
import HowItWorks from '@/components/HowItWorks.astro'
import PlanMode from '@/components/PlanMode.astro'
import UseCases from '@/components/UseCases.astro'
import CRTEffect from '@/components/CRTEffect'
import MagneticButton from '@/components/MagneticButton'
---

<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Claude Code plugin for context protection, specialized agents, and ultrawork mode. Enhance your AI coding workflow.">

  <!-- Open Graph -->
  <meta property="og:title" content="oh-my-claude">
  <meta property="og:description" content="The definitive Claude Code plugin. Context protection, specialized agents, and ultrawork mode.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://oh-my-claude.techdufus.com">
  <meta property="og:image" content="https://oh-my-claude.techdufus.com/og-image.png">
  <meta property="og:image:width" content="921">
  <meta property="og:image:height" content="951">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="oh-my-claude">
  <meta name="twitter:description" content="The definitive Claude Code plugin. Context protection, specialized agents, and ultrawork mode.">
  <meta name="twitter:image" content="https://oh-my-claude.techdufus.com/og-image.png">

  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
  <title>oh-my-claude | Claude Code Plugin</title>
</head>
<body class="min-h-screen bg-background text-foreground antialiased">
  <!-- Visual Effects -->
  <CRTEffect client:load />

  <!-- Hero Section -->
  <header class="relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-b from-cyan/5 to-transparent pointer-events-none"></div>

    <div class="container mx-auto px-4 pt-8 pb-4">
      <nav class="flex items-center justify-between mb-8">
        <div class="flex items-center gap-2">
          <span class="text-2xl font-heading font-bold">oh-my-claude</span>
        </div>
        <MagneticButton client:load>
          <GitHubStars client:load />
        </MagneticButton>
      </nav>
    </div>

    <div class="container mx-auto px-4 py-12">
      <div class="flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-12">
        <!-- Left side: Text content -->
        <div class="flex-1 flex flex-col items-center justify-center text-center max-w-xl">
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-heading font-bold mb-6">
            Stop Wasting Your<br>
            <span class="text-cyan">Context Window</span>
          </h1>
          <p class="text-lg md:text-xl text-muted-foreground mb-8">
            A Claude Code plugin that delegates file reading, searching, and implementation
            to specialized agents — so your main session stays sharp.
          </p>
          <InstallBlock client:load />
        </div>

        <!-- Right side: Terminal demo -->
        <div class="flex-1">
          <TerminalHero client:load />
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- Stats Bar -->
    <div data-reveal>
      <StatsBar />
    </div>

    <!-- How It Works -->
    <div data-reveal data-reveal-delay="100">
      <HowItWorks />
    </div>

    <!-- Plan Mode -->
    <div data-reveal data-reveal-delay="100">
      <PlanMode />
    </div>

    <!-- Features Section -->
    <div data-reveal data-reveal-delay="100">
      <Features />
    </div>

    <!-- Use Cases -->
    <div data-reveal data-reveal-delay="100">
      <UseCases />
    </div>

    <!-- Agents Section -->
    <div data-reveal data-reveal-delay="100">
      <AgentGrid />
    </div>

    <!-- CTA / Install -->
    <section id="install" class="py-20 px-4" data-reveal data-reveal-delay="100">
      <div class="container mx-auto max-w-4xl text-center">
        <h2 class="text-3xl md:text-4xl font-heading font-bold mb-4">
          One command. <span class="text-cyan">Zero config.</span>
        </h2>
        <p class="text-muted-foreground mb-8">
          Install the plugin. Start a new session. That's it.
        </p>
        <div class="p-8 rounded-xl border border-border/50 bg-card/50">
          <p class="font-mono text-muted-foreground whitespace-nowrap overflow-x-auto">
            $ curl -LsSf https://astral.sh/uv/install.sh | sh<br>
            $ /plugin install techdufus/oh-my-claude<br>
            <span class="text-cyan">→ Plugin installed. Context protection active.</span>
          </p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="py-12 px-4 border-t border-border/50">
    <div class="container mx-auto max-w-6xl">
      <div class="flex flex-col md:flex-row items-center justify-between gap-4">
        <div class="flex items-center gap-4">
          <span class="font-heading font-bold">oh-my-claude</span>
          <a
            href="https://github.com/techdufus"
            target="_blank"
            rel="noopener noreferrer"
            class="text-muted-foreground text-sm hover:text-foreground transition-colors"
          >by techdufus</a>
        </div>
        <div class="flex items-center gap-6 text-sm text-muted-foreground">
          <a
            href="https://github.com/techdufus/oh-my-claude"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-foreground transition-colors"
          >
            GitHub
          </a>
          <a
            href="https://github.com/techdufus/oh-my-claude/issues"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-foreground transition-colors"
          >
            Issues
          </a>
        </div>
      </div>
      <div class="mt-8 pt-6 border-t border-border/30 text-center">
        <p class="text-sm text-muted-foreground/50 mb-2 italic">Built by someone who got tired of watching Claude forget what it just read.</p>
        <p class="text-xs text-muted-foreground/70">&copy; {new Date().getFullYear()} techdufus. All rights reserved.</p>
      </div>
    </div>
  </footer>
<script>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((e) => {
      if (e.isIntersecting) {
        const delay = e.target.getAttribute('data-reveal-delay');
        if (delay) (e.target as HTMLElement).style.transitionDelay = `${delay}ms`;
        e.target.classList.add('revealed');
        observer.unobserve(e.target);
      }
    });
  }, { threshold: 0.1 });
  document.querySelectorAll('[data-reveal]').forEach((el) => observer.observe(el));
</script>
</body>
</html>
